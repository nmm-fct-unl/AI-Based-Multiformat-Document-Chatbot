# Repository Description

This repository contains an implementation for an offline Retrieval-Augmented Generation (RAG) model. The model is based on various technologies, software, and platforms, primarily:

1. [Ollama](https://ollama.com/)

2. Langchain

3. Mistral

4. FAISS

5. Streamline

## Main Model Description

This model utilizes the Ollama software tool to run large language models (LLMs) locally on a computer, enabling offline language processing tasks. Ollama provides access to a diverse set of pre-trained LLM models. Langchain complements Ollama by acting as a framework, allowing developers to integrate these locally-run LLMs into applications. This makes the LLMs easier to use and build upon. Langchain goes a step further by enabling the development of RAG systems, which use various tools to process information, resulting in more refined and informative responses from the language model.

## Using the RAG

1. Install Ollama from [https://ollama.com/download](https://ollama.com/download)
Using Python Terminal: 
2. Clone the repository: ```
git clone https://github.com/oraibalmegdadi/LocalRAG.git ```

3. Download requiremnts: ```
pip install -r requirements.txt```

4. Run the application: 
	- ollama pull mistral
	- streamlit run OfflineRAGapp-Mistral.py
5. Upon launching the application, the server interface will be displayed, as shown in the bellowing image. You have the option to upload your own PDF documents or utilize the two provided documents located in the example folder. These documents, generated by ChatGPT, contain valuable information about dams.
6. Once you click the "Process" button, the text will undergo chunking and embedding processes, resulting in two separate text files. Examples of these resulting files can be found in the example folder for reference.
![langchain](RAG.png)


## Main Functions Explanation

The image illustrates the overall steps of the model. It begins with uploading multiple PDF files, followed by processing them before engaging in conversation, as outlined below:

1. Call the `get_pdf_text(pdf_docs)` function to read and concatenate text from each page of the uploaded PDF documents.
   - **Main method** for parsing: PyPDF2 library.
   - **Output**: raw_text

2. Call the `get_text_chunks(raw_text)` function to split the extracted text into manageable chunks.
   - **Main method**: langchain library.
   - **CharacterTextSplitter Parameters**: chunk size: 1000 characters, overlap: 200 characters.
   - **Output**: text_chunks

3. Call the `get_vectorstore(text_chunks)` function to generate embeddings for the text chunks and store them in a vector database.
   - **Main method**:
     - **Embeddings**: our model use Mirtal llm, other supported models could be found at https://ollama.com/library
     - **FAISS**: A library for efficient similarity search  A library that allows developers to quickly search for embeddings of multimedia documents that are similar to each other.. [More info](https://engineering.fb.com/2017/03/29/data-infrastructure/faiss-a-library-for-efficient-similarity-search/)
   - **Convert the embeddings vectorspace to txt file (embeddings.txt)**

4. Call the `get_conversation_chain(vectorstore)` function to create a conversational chain with the generated vectorstore.
   - **This operation relies on the langchain library for creating conversational chains.**

## Useful Tutorials: 
1.Playlist by @alejandro_ao:  https://www.youtube.com/watch?v=LBNpyjcbv0o&list=PLMVV8yyL2GN_n41v1ESBvDHwMbYYhlAh1
2.Playlist by @datasciencebasics: https://www.youtube.com/watch?v=0iBV-eM418Y&list=PLz-qytj7eIWX-bpcRtvkixvo9fuejVr8y

